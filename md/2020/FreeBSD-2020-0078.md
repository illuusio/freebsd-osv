# ansible - Vault password leak from temporary file
Borja Tarraso reports:

> A flaw was found in Ansible Engine when using Ansible Vault for
> editing encrypted files. When a user executes \"ansible-vault edit\",
> another user on the same computer can read the old and new secret, as
> it is created in a temporary file with mkstemp and the returned file
> descriptor is closed and the method write_data is called to write the
> existing secret in the file. This method will delete the file before
> recreating it insecurely. All versions in 2.7.x, 2.8.x and 2.9.x
> branches are believed to be vulnerable.


## Affected packages
 - **ansible**
    - **Fixed:** 2.8.9
 - **ansible27**
    - **Fixed:** 2.7.17
 - **ansible26**
    - **Fixed:** 2.7.17
 - **ansible25**
    - **Fixed:** 2.7.17
 - **ansible24**
    - **Fixed:** 2.7.17
 - **ansible23**
    - **Fixed:** 2.7.17

## Details
 - **published**: 2020-04-17T00:00:00Z
 - **modified**: 2020-04-17T00:00:00Z
 - **discovery**: 2020-02-12T00:00:00Z
 - **vid**: [ae2e7871-80f6-11ea-bafd-815569f3852d](https://vuxml.freebsd.org/freebsd/ae2e7871-80f6-11ea-bafd-815569f3852d.html)

## References
 - REPORT: [https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2020-1740](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2020-1740)
 - WEB: [https://github.com/ansible/ansible/issues/67798](https://github.com/ansible/ansible/issues/67798)
 - ADVISORY: [https://api.osv.dev/v1/vulns/CVE-2020-1740](https://api.osv.dev/v1/vulns/CVE-2020-1740)
