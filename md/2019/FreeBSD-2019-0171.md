# Django -- multiple vulnerabilities
Django release notes:

> CVE-2019-14232: Denial-of-service possibility in
> django.utils.text.Truncator
>
> If django.utils.text.Truncator\'s chars() and words() methods were
> passed the html=True argument, they were extremely slow to evaluate
> certain inputs due to a catastrophic backtracking vulnerability in a
> regular expression. The chars() and words() methods are used to
> implement the truncatechars_html and truncatewords_html template
> filters, which were thus vulnerable
>
> The regular expressions used by Truncator have been simplified in
> order to avoid potential backtracking issues. As a consequence,
> trailing punctuation may now at times be included in the truncated
> output.
>
> CVE-2019-14233: Denial-of-service possibility in strip_tags()
>
> Due to the behavior of the underlying HTMLParser,
> django.utils.html.strip_tags() would be extremely slow to evaluate
> certain inputs containing large sequences of nested incomplete HTML
> entities. The strip_tags() method is used to implement the
> corresponding striptags template filter, which was thus also
> vulnerable.
>
> strip_tags() now avoids recursive calls to HTMLParser when progress
> removing tags, but necessarily incomplete HTML entities, stops being
> made.
>
> Remember that absolutely NO guarantee is provided about the results of
> strip_tags() being HTML safe. So NEVER mark safe the result of a
> strip_tags() call without escaping it first, for example with
> django.utils.html.escape().
>
> CVE-2019-14234: SQL injection possibility in key and index lookups for
> JSONField/HStoreField
>
> Key and index lookups for JSONField and key lookups for HStoreField
> were subject to SQL injection, using a suitably crafted dictionary,
> with dictionary expansion, as the \*\*kwargs passed to
> QuerySet.filter().
>
> CVE-2019-14235: Potential memory exhaustion in
> django.utils.encoding.uri_to_iri()
>
> If passed certain inputs, django.utils.encoding.uri_to_iri() could
> lead to significant memory usage due to excessive recursion when
> re-percent-encoding invalid UTF-8 octet sequences.
>
> uri_to_iri() now avoids recursion when re-percent-encoding invalid
> UTF-8 octet sequences.


## Affected packages
 - **py27-django111**
    - **Fixed:** 1.11.23
 - **py35-django111**
    - **Fixed:** 1.11.23
 - **py36-django111**
    - **Fixed:** 1.11.23
 - **py37-django111**
    - **Fixed:** 1.11.23
 - **py27-django21**
    - **Fixed:** 2.1.11
 - **py35-django21**
    - **Fixed:** 2.1.11
 - **py36-django21**
    - **Fixed:** 2.1.11
 - **py37-django21**
    - **Fixed:** 2.1.11
 - **py27-django22**
    - **Fixed:** 2.2.4
 - **py35-django22**
    - **Fixed:** 2.2.4
 - **py36-django22**
    - **Fixed:** 2.2.4
 - **py37-django22**
    - **Fixed:** 2.2.4

## Details
 - **published**: 2019-08-03T00:00:00Z
 - **modified**: 2019-08-03T00:00:00Z
 - **discovery**: 2019-08-01T00:00:00Z
 - **vid**: [6e65dfea-b614-11e9-a3a2-1506e15611cc](https://vuxml.freebsd.org/freebsd/6e65dfea-b614-11e9-a3a2-1506e15611cc.html)

## References
 - REPORT: [https://docs.djangoproject.com/en/1.11/releases/1.11.23/](https://docs.djangoproject.com/en/1.11/releases/1.11.23/)
 - WEB: [https://docs.djangoproject.com/en/2.1/releases/2.1.11/](https://docs.djangoproject.com/en/2.1/releases/2.1.11/)
 - WEB: [https://docs.djangoproject.com/en/2.2/releases/2.2.4/](https://docs.djangoproject.com/en/2.2/releases/2.2.4/)
 - ADVISORY: [https://api.osv.dev/v1/vulns/CVE-2019-14232](https://api.osv.dev/v1/vulns/CVE-2019-14232)
 - ADVISORY: [https://api.osv.dev/v1/vulns/CVE-2019-14233](https://api.osv.dev/v1/vulns/CVE-2019-14233)
 - ADVISORY: [https://api.osv.dev/v1/vulns/CVE-2019-14234](https://api.osv.dev/v1/vulns/CVE-2019-14234)
 - ADVISORY: [https://api.osv.dev/v1/vulns/CVE-2019-14235](https://api.osv.dev/v1/vulns/CVE-2019-14235)
