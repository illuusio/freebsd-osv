# py-imaging, py-pillow -- Buffer overflow in PCD decoder
The Pillow maintainers report:

> In all versions of Pillow, dating back at least to the last PIL 1.1.7
> release, PcdDecode.c has a buffer overflow error.
>
> The state.buffer for PcdDecode.c is allocated based on a 3 bytes per
> pixel sizing, where PcdDecode.c wrote into the buffer assuming 4 bytes
> per pixel. This writes 768 bytes beyond the end of the buffer into
> other Python object storage. In some cases, this causes a segfault, in
> others an internal Python malloc error.


## Affected packages
 - **py27-pillow**
    - **Fixed:** 2.9.0_1
 - **py33-pillow**
    - **Fixed:** 2.9.0_1
 - **py34-pillow**
    - **Fixed:** 2.9.0_1
 - **py35-pillow**
    - **Fixed:** 2.9.0_1
 - **py27-imaging**
    - **Fixed:** 1.1.7_6

## Details
 - **published**: 2016-02-09T00:00:00Z
 - **modified**: 2016-02-09T00:00:00Z
 - **discovery**: 2016-02-02T00:00:00Z
 - **vid**: [a8de962a-cf15-11e5-805c-5453ed2e2b49](https://vuxml.freebsd.org/freebsd/a8de962a-cf15-11e5-805c-5453ed2e2b49.html)

## References
 - REPORT: [https://pillow.readthedocs.org/en/3.1.x/releasenotes/3.1.1.html](https://pillow.readthedocs.org/en/3.1.x/releasenotes/3.1.1.html)
 - DISCUSSION: [http://openwall.com/lists/oss-security/2016/02/02/5](http://openwall.com/lists/oss-security/2016/02/02/5)
 - WEB: [https://github.com/python-pillow/Pillow/commit/ae453aa18b66af54e7ff716f4ccb33adca60afd4](https://github.com/python-pillow/Pillow/commit/ae453aa18b66af54e7ff716f4ccb33adca60afd4)
 - WEB: [https://github.com/python-pillow/Pillow/issues/568](https://github.com/python-pillow/Pillow/issues/568)
