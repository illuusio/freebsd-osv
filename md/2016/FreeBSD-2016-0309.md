# FreeBSD -- Deadlock in the NFS server
# Problem Description:

The kernel holds a lock over the source directory vnode while trying to
convert the target directory file handle to a vnode, which needs to be
returned with the lock held, too. This order may be in violation of
normal lock order, which in conjunction with other threads that grab
locks in the right order, constitutes a deadlock condition because no
thread can proceed.

# Impact:

An attacker on a trusted client could cause the NFS server become
deadlocked, resulting in a denial of service.


## Affected packages
 - **FreeBSD-kernel**
    - **Introduced:** 10.0
    - **Fixed:** 10.0_1
    - **Introduced:** 9.2
    - **Fixed:** 9.2_4
    - **Introduced:** 9.1
    - **Fixed:** 9.1_11
    - **Introduced:** 8.4
    - **Fixed:** 8.4_8
    - **Introduced:** 8.3
    - **Fixed:** 8.3_15

## Details
 - **published**: 2016-08-11T00:00:00Z
 - **modified**: 2016-08-11T00:00:00Z
 - **discovery**: 2014-04-08T00:00:00Z
 - **vid**: [6a384960-6007-11e6-a6c3-14dae9d210b8](https://vuxml.freebsd.org/freebsd/6a384960-6007-11e6-a6c3-14dae9d210b8.html)

## References
 - ADVISORY: [https://cveawg.mitre.org/api/cve/CVE-2014-1453](https://cveawg.mitre.org/api/cve/CVE-2014-1453)
 - ADVISORY: [https://www.freebsd.org/security/advisories/FreeBSD-SA-14:05.nfsserver.asc](https://www.freebsd.org/security/advisories/FreeBSD-SA-14:05.nfsserver.asc)
