# apache -- Apache ZooKeeper: Authorization bypass in SASL Quorum Peer Authentication
security@apache.org reports:

> Authorization Bypass Through User-Controlled Key vulnerability in
> Apache ZooKeeper. If SASL Quorum Peer authentication is enabled in
> ZooKeeper (quorum.auth.enableSasl=true), the authorization is done by
> verifying that the instance part in SASL authentication ID is listed
> in zoo.cfg server list. The instance part in SASL auth ID is optional
> and if it\'s missing, like \'eve@EXAMPLE.COM\', the authorization
> check will be skipped.As a result an arbitrary endpoint could join the
> cluster and begin propagating counterfeit changes to the leader,
> essentially giving it complete read-write access to the data
> tree.Quorum Peer authentication is not enabled by default. Users are
> recommended to upgrade to version 3.9.1, 3.8.3, 3.7.2, which fixes the
> issue. Alternately ensure the ensemble election/quorum communication
> is protected by a firewall as this will mitigate the issue. See the
> documentation for more details on correct cluster administration.


## Affected packages
 - **zookeeper**
    - **Fixed:** 3.7.2
    - **Introduced:** 3.8.0
    - **Fixed:** 3.8.3
    - **Introduced:** 3.9.0
    - **Fixed:** 3.9.1

## Details
 - **published**: 2023-12-10T00:00:00Z
 - **modified**: 2023-12-10T00:00:00Z
 - **discovery**: 2023-10-11T00:00:00Z
 - **vid**: [2bc376c0-977e-11ee-b4bc-b42e991fc52e](https://vuxml.freebsd.org/freebsd/2bc376c0-977e-11ee-b4bc-b42e991fc52e.html)

## References
 - REPORT: [http://www.openwall.com/lists/oss-security/2023/10/11/4](http://www.openwall.com/lists/oss-security/2023/10/11/4)
 - ADVISORY: [https://cveawg.mitre.org/api/cve/CVE-2023-44981](https://cveawg.mitre.org/api/cve/CVE-2023-44981)
 - ADVISORY: [https://nvd.nist.gov/vuln/detail/CVE-2023-44981](https://nvd.nist.gov/vuln/detail/CVE-2023-44981)
