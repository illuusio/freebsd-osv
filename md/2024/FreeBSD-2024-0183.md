# PostgreSQL -- Prevent unauthorized code execution during pg_dump
PostgreSQL project reports:

> An attacker able to create and drop non-temporary objects could inject
> SQL code that would be executed by a concurrent pg_dump session with
> the privileges of the role running pg_dump (which is often a
> superuser). The attack involves replacing a sequence or similar object
> with a view or foreign table that will execute malicious code. To
> prevent this, introduce a new server parameter
> restrict_nonsystem_relation_kind that can disable expansion of
> non-builtin views as well as access to foreign tables, and teach
> pg_dump to set it when available. Note that the attack is prevented
> only if both pg_dump and the server it is dumping from are new enough
> to have this fix.


## Affected packages
 - **postgresql12-client**
    - **Fixed:** 12.20
 - **postgresql13-client**
    - **Fixed:** 13.16
 - **postgresql14-client**
    - **Fixed:** 14.13
 - **postgresql15-client**
    - **Fixed:** 15.8
 - **postgresql16-client**
    - **Fixed:** 16.4
 - **postgresql12-server**
    - **Fixed:** 12.20
 - **postgresql13-server**
    - **Fixed:** 13.16
 - **postgresql14-server**
    - **Fixed:** 14.13
 - **postgresql15-server**
    - **Fixed:** 15.8
 - **postgresql16-server**
    - **Fixed:** 16.4

## Details
 - **published**: 2024-08-08T00:00:00Z
 - **modified**: 2024-08-08T00:00:00Z
 - **discovery**: 2024-08-08T00:00:00Z
 - **vid**: [48e6d514-5568-11ef-af48-6cc21735f730](https://vuxml.freebsd.org/freebsd/48e6d514-5568-11ef-af48-6cc21735f730.html)

## References
 - REPORT: [https://www.postgresql.org/support/security/CVE-2024-7348/](https://www.postgresql.org/support/security/CVE-2024-7348/)
 - ADVISORY: [https://api.osv.dev/v1/vulns/CVE-2024-7348](https://api.osv.dev/v1/vulns/CVE-2024-7348)
