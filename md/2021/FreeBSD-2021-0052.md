# FreeBSD -- jail_remove(2) fails to kill all jailed processes
# Problem Description:

Due to a race condition in the jail_remove(2) implementation, it may
fail to kill some of the processes.

# Impact:

A process running inside a jail can avoid being killed during jail
termination. If a jail is subsequently started with the same root path,
a lingering jailed process may be able to exploit the window during
which a devfs filesystem is mounted but the jail\'s devfs ruleset has
not been applied, to access device nodes which are ordinarily
inaccessible. If the process is privileged, it may be able to escape the
jail and gain full access to the system.


## Affected packages
 - **FreeBSD-kernel**
    - **Introduced:** 12.2
    - **Fixed:** 12.2_4
    - **Introduced:** 11.4
    - **Fixed:** 11.4_8

## Details
 - **published**: 2021-02-25T00:00:00Z
 - **modified**: 2021-02-25T00:00:00Z
 - **discovery**: 2021-02-24T00:00:00Z
 - **vid**: [31ad2f10-7711-11eb-b87a-901b0ef719ab](https://vuxml.freebsd.org/freebsd/31ad2f10-7711-11eb-b87a-901b0ef719ab.html)

## References
 - ADVISORY: [https://cveawg.mitre.org/api/cve/CVE-2020-25581](https://cveawg.mitre.org/api/cve/CVE-2020-25581)
 - ADVISORY: [https://www.freebsd.org/security/advisories/FreeBSD-SA-21:04.jail_remove.asc](https://www.freebsd.org/security/advisories/FreeBSD-SA-21:04.jail_remove.asc)
