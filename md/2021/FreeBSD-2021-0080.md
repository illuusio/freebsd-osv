# FreeBSD -- Memory disclosure by stale virtual memory mapping
# Problem Description:

A particular case of memory sharing is mishandled in the virtual memory
system. It is possible and legal to establish a relationship where
multiple descendant processes share a mapping which shadows memory of an
ancestor process. In this scenario, when one process modifies memory
through such a mapping, the copy-on-write logic fails to invalidate
other mappings of the source page. These stale mappings may remain even
after the mapped pages have been reused for another purpose.

# Impact:

An unprivileged local user process can maintain a mapping of a page
after it is freed, allowing that process to read private data belonging
to other processes or the kernel.


## Affected packages
 - **FreeBSD-kernel**
    - **Introduced:** 12.2
    - **Fixed:** 12.2_6
    - **Introduced:** 11.4
    - **Fixed:** 11.4_9

## Details
 - **published**: 2021-04-07T00:00:00Z
 - **modified**: 2021-04-07T00:00:00Z
 - **discovery**: 2021-04-06T00:00:00Z
 - **vid**: [13d37672-9791-11eb-b87a-901b0ef719ab](https://vuxml.freebsd.org/freebsd/13d37672-9791-11eb-b87a-901b0ef719ab.html)

## References
 - ADVISORY: [https://cveawg.mitre.org/api/cve/CVE-2021-29626](https://cveawg.mitre.org/api/cve/CVE-2021-29626)
 - ADVISORY: [https://www.freebsd.org/security/advisories/FreeBSD-SA-21:08.vm.asc](https://www.freebsd.org/security/advisories/FreeBSD-SA-21:08.vm.asc)
