# mitmproxy -- Insufficient Protection against HTTP Request Smuggling
Zeyu Zhang reports:

> In mitmproxy 7.0.4 and below, a malicious client or server is able to
> perform HTTP request smuggling attacks through mitmproxy. This means
> that a malicious client/server could smuggle a request/response
> through mitmproxy as part of another request/response\'s HTTP message
> body. While mitmproxy would only see one request, the target server
> would see multiple requests. A smuggled request is still captured as
> part of another request\'s body, but it does not appear in the request
> list and does not go through the usual mitmproxy event hooks, where
> users may have implemented custom access control checks or input
> sanitization.
>
> Unless you use mitmproxy to protect an HTTP/1 service, no action is
> required.


## Affected packages
 - **mitmproxy**
    - **Fixed:** 8.0.0

## Details
 - **published**: 2022-06-20T00:00:00Z
 - **modified**: 2022-06-20T00:00:00Z
 - **discovery**: 2022-03-21T00:00:00Z
 - **vid**: [ad37a349-ebb7-11ec-b9f7-21427354249d](https://vuxml.freebsd.org/freebsd/ad37a349-ebb7-11ec-b9f7-21427354249d.html)

## References
 - REPORT: [https://github.com/mitmproxy/mitmproxy/commit/b06fb6d157087d526bd02e7aadbe37c56865c71b](https://github.com/mitmproxy/mitmproxy/commit/b06fb6d157087d526bd02e7aadbe37c56865c71b)
 - ADVISORY: [https://api.osv.dev/v1/vulns/CVE-2022-24766](https://api.osv.dev/v1/vulns/CVE-2022-24766)
 - WEB: [https://github.com/mitmproxy/mitmproxy/commit/b06fb6d157087d526bd02e7aadbe37c56865c71b](https://github.com/mitmproxy/mitmproxy/commit/b06fb6d157087d526bd02e7aadbe37c56865c71b)
