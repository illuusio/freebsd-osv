# py-matrix-synapse -- unbounded recursion in urlpreview
Matrix developers report:

> This release fixes a vulnerability with Synapse\'s URL preview
> feature. URL previews of some web pages can lead to unbounded
> recursion, causing the request to either fail, or in some cases crash
> the running Synapse process.
>
> Note that:
>
> - Homeservers with the url_preview_enabled configuration option set to
>   false (the default value) are unaffected.
> - Instances with the enable_media_repo configuration option set to
>   false are also unaffected, as this also disables the URL preview
>   functionality.


## Affected packages
 - **py37-matrix-synapse**
    - **Fixed:** 1.61.1
 - **py38-matrix-synapse**
    - **Fixed:** 1.61.1
 - **py39-matrix-synapse**
    - **Fixed:** 1.61.1
 - **py310-matrix-synapse**
    - **Fixed:** 1.61.1
 - **py311-matrix-synapse**
    - **Fixed:** 1.61.1

## Details
 - **published**: 2022-06-29T00:00:00Z
 - **modified**: 2022-06-29T00:00:00Z
 - **discovery**: 2022-06-28T00:00:00Z
 - **vid**: [07c0d782-f758-11ec-acaa-901b0e9408dc](https://vuxml.freebsd.org/freebsd/07c0d782-f758-11ec-acaa-901b0e9408dc.html)

## References
 - REPORT: [https://matrix.org/blog/2022/06/28/security-release-synapse-1-61-1](https://matrix.org/blog/2022/06/28/security-release-synapse-1-61-1)
 - ADVISORY: [https://api.osv.dev/v1/vulns/CVE-2022-31052](https://api.osv.dev/v1/vulns/CVE-2022-31052)
 - WEB: [https://matrix.org/blog/2022/06/28/security-release-synapse-1-61-1](https://matrix.org/blog/2022/06/28/security-release-synapse-1-61-1)
