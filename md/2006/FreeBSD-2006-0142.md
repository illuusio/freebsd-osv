# postgresql -- encoding based SQL injection
The PostgreSQL development team reports:

> An attacker able to submit crafted strings to an application that will
> embed those strings in SQL commands can use invalidly-encoded
> multibyte characters to bypass standard string-escaping methods,
> resulting in possible injection of hostile SQL commands into the
> database. The attacks covered here work in any multibyte encoding.
>
> The widely-used practice of escaping ASCII single quote \"\'\" by
> turning it into \"\\\'\" is unsafe when operating in multibyte
> encodings that allow 0x5c (ASCII code for backslash) as the trailing
> byte of a multibyte character; this includes at least SJIS, BIG5, GBK,
> GB18030, and UHC. An application that uses this conversion while
> embedding untrusted strings in SQL commands is vulnerable to
> SQL-injection attacks if it communicates with the server in one of
> these encodings. While the standard client libraries used with
> PostgreSQL have escaped \"\'\" in the safe, SQL-standard way of
> \"\'\'\" for some time, the older practice remains common.


## Affected packages
 - **postgresql**
    - **Introduced:** 7.3
    - **Fixed:** 7.3.15
    - **Introduced:** 7.4
    - **Fixed:** 7.4.13
    - **Introduced:** 8.0.0
    - **Fixed:** 8.0.8
    - **Introduced:** 8.1.0
    - **Fixed:** 8.1.4
 - **postgresql-server**
    - **Introduced:** 7.3
    - **Fixed:** 7.3.15
    - **Introduced:** 7.4
    - **Fixed:** 7.4.13
    - **Introduced:** 8.0.0
    - **Fixed:** 8.0.8
    - **Introduced:** 8.1.0
    - **Fixed:** 8.1.4
 - **ja-postgresql**
    - **Introduced:** 7.3
    - **Fixed:** 7.3.15
    - **Introduced:** 7.4
    - **Fixed:** 7.4.13
    - **Introduced:** 8.0.0
    - **Fixed:** 8.0.8
    - **Introduced:** 8.1.0
    - **Fixed:** 8.1.4

## Details
 - **published**: 2006-08-13T00:00:00Z
 - **modified**: 2006-08-13T00:00:00Z
 - **discovery**: 2006-05-11T00:00:00Z
 - **vid**: [17f53c1d-2ae9-11db-a6e2-000e0c2e438a](https://vuxml.freebsd.org/freebsd/17f53c1d-2ae9-11db-a6e2-000e0c2e438a.html)

## References
 - REPORT: [http://www.postgresql.org/docs/techdocs.50](http://www.postgresql.org/docs/techdocs.50)
 - ADVISORY: [https://www.securityfocus.com/bid/18092/info](https://www.securityfocus.com/bid/18092/info)
 - ADVISORY: [https://api.osv.dev/v1/vulns/CVE-2006-2313](https://api.osv.dev/v1/vulns/CVE-2006-2313)
 - ADVISORY: [https://api.osv.dev/v1/vulns/CVE-2006-2314](https://api.osv.dev/v1/vulns/CVE-2006-2314)
