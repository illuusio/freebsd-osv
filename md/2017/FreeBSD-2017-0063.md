# kio: Information Leak when accessing https when using a malicious PAC file
Albert Astals Cid reports:

> Using a malicious PAC file, and then using exfiltration methods in the
> PAC function FindProxyForURL() enables the attacker to expose full
> https URLs.
>
> This is a security issue since https URLs may contain sensitive
> information in the URL authentication part (user:password@host), and
> in the path and the query (e.g. access tokens).
>
> This attack can be carried out remotely (over the LAN) since proxy
> settings allow \"Detect Proxy Configuration Automatically\". This
> setting uses WPAD to retrieve the PAC file, and an attacker who has
> access to the victim\'s LAN can interfere with the WPAD protocols
> (DHCP/DNS+HTTP) and inject his/her own malicious PAC instead of the
> legitimate one.


## Affected packages
 - **kdelibs**
    - **Fixed:** 4.14.29_10
 - **kf5-kio**
    - **Fixed:** 5.31.0_1

## Details
 - **published**: 2017-03-11T00:00:00Z
 - **modified**: 2017-03-11T00:00:00Z
 - **discovery**: 2017-02-28T00:00:00Z
 - **vid**: [f714d8ab-028e-11e7-8042-50e549ebab6c](https://vuxml.freebsd.org/freebsd/f714d8ab-028e-11e7-8042-50e549ebab6c.html)

## References
 - REPORT: [https://www.kde.org/info/security/advisory-20170228-1.txt](https://www.kde.org/info/security/advisory-20170228-1.txt)
